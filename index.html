<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Vim  实习生 by baoyuanzh</title>
  </head>

  <body>
    <header>
    <div class="inner">
      <h1>Vim  实习生</h1>
      <h2>实用 VIM 技术报告</h2>
      <p>本网页内容主要参考<br/><a href="http://drewneil.com/">Drew Neil</a> 的 <a href="https://pragprog.com/book/dnvim/practical-vim">Practical Vim</a><br/>写作而成</p>
      <a href="https://github.com/baoyuanzh/VIM_Internship" class="button"><small>View project on</small> GitHub</a>
    </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">

        <!-- Main Contents: BEGIN -->
        <section id="main-content">

        <!-- Introduction: BEGIN -->
        <section class="intro">

        <h3>欢迎来到我的 &laquo;VIM 实习生&raquo;</h3>
        <p>几年前偶尔接触了 Vim ，同时听说了 Emacs ，之后便断断续续的开始自学 Vim ，资料找过不少，看了忘忘了又看，发现 Vim 水平没提高多少，依然只会用简单的几个命令，连寄存器都没怎么用过，更别说什么宏啊，映射啊，折叠啊之类听起来就高大上的东西。有问题的时候就上网查一下，用过之后就忘记了，又要用就又去查，其实心里面一直觉得老这么着也不是个事啊，但还是这么着又过了段时间，大概觉得也许是 Vim 不适合我，所以就去尝试了 Emacs ，用了一段时间觉得要记得命令太多，而且多是组合键，哪怕是改了键盘 Tab 键也不适应，最后又不了了之了。</p>
        <p id="painting-analogy">终于有一天，在一本书上我读到了这么一段话，当然了，是我翻译过的 : )</p>
        <blockquote>你估摸着一个画家在作画时，有多少时间画笔和帆布是接触着的？当然了，这要看是谁在作画，但如果你要是告诉我有一半的时间，我一定会觉得难以置信。想想画家除了用画笔在帆布上作画以外的事情，比如观察画面上的物体，调整光线，调色；又比如，谁说非要用画笔的，有时候还可以用刮刀来改动一下局部的风格，又或者是用棉球微微调整画好的地方。画家不会傻不兮兮地把画笔按在帆布上来休息吧。</blockquote>
        <p>读到这一段话的时候简直如当头棒喝，我本人曾有一段时期经过专业的绘画训练，因而对此感触实在是太深刻了，这一段话接着这样写道：</p>
        <blockquote>Vim 也是如此，其普通模式实是再自然不过的事情了，从名字里就可以看出端倪了，真的如此！</blockquote>
        <blockquote>就像画家需要停笔思考，程序员也是如此，他们也需要花时间来一段一段组合出代码。更多的时间花在思考，阅读，以及从一个地方跳到另一个地方的转移上面，而当他们的确需要做出改动时，谁说非要进入插入模式呢，在普通模式下，他们就可以调整已有代码的格式，复制，移动或者删除，在普通模式下他们就有足够多的工具来完成这样的任务。</blockquote>
        <p>然后我如饥似渴的读完了整本书，它让我知道该怎样去欣赏 Vim 的优雅与气质，尽管此后由于一些事情，我未能将书中所学用于实践，看过的又几乎全忘了，但是我始终没有忘记这一段描写对 Vim 阐述，我知道这就是我需要的，所以如今我再次阅读该书，并在学习的同时，希望将紧要简短的内容制作成网页，以便自己反复记忆。</p>
        <p>我想也许学习 Vim 最好的方式就是去理解它，按照它的风格去编辑，然后也许有一天你会发现，Vim 开始理解你了。</p>
        <p>所谓独乐乐不如众乐乐，我将其在本站公布，同时作为我学习 HTML&amp;CSS 建设的第一个网站</p>
        <p>本网站的内容将全部通过 Vim 录入，更准确地说，通过我 Macbook Pro 上的 mvim 与 vim 录入。</p>

        <!-- Introduction: END -->
        </section>

        <!-- Part 0: The Vim Way: BEGIN -->
        <section class="p0-way">

        <h3>我们都是 VIM 派</h3>
        <p>说实话，编辑工作从某种角度下看，其本质是重复的。那么简化这种重复的工作绝对可以大量的节约时间，虽然不是根本性的，但却是多方面的。</p>
        <p>Vim 尤其善于处理重复，因为其自动为我们记录下最近的操作，我们总可以用一个句点来重复。为了最高效的利用这一特性，我们有着一个理想化的公式，即所谓的<b>句点公式</b>：</p>
        <p class="attention"><em>一键移动，一键操作</em></p>
        <p>而这样的理念似乎贯穿着整个 Vim 的设计，我将之称为 Vim 派，理解 Vim 派是你开始理解 Vim 的第一步。但是站着说话不腰疼，除非你学会如何组织操作以便 Vim 为我们完成重复的工作，否则 Vim 特意为重复所做的优化将毫无用武之地。以下通过五个实例来说明这一点。</p>

        <!-- Tip 1 -->
        <article id="tip-1">
        <h4>备忘一、理解句点命令</h4>
        <p>句点命令的官方定义为<b>重复执行最后一次改动</b>。要真正应用好这一点，首先要明白什么是“改动”。</p>
        <p id="tip-1-change">在 Vim 看来，一次“改动”大概可以分成这么两类：</p>
        <ol>
          <li>在普通模式下的一个命令，比如删除一个字符 <span class="command">x</span>，删除一行 <span class="command">dd</span>，缩进一行 <span class="command">&gt;&gt;</span> 。</li>
          <li>从普通模式进入插入模式到离开插入模式间所有的按键操作整个作为一次改动。</li>
        </ol>
        <p>试着下载文件 <a download="tip-1.txt" href="https://raw.githubusercontent.com/baoyuanzh/VIM_Internship/master/tip-1.txt">tip-1.txt</a> 用 Vim 打开，并按上面说的做，你就知道我在说什么了。<p>
        </article>

        <!-- Tip 2 -->
        <article id="tip-2">
        <h4>备忘二、避免重复原始操作</h4>
        <p>有些操作描述起来是完全重复的，比如在每一行的末尾加一个分号，你只要通过 <span class="command">j</span> 键移动到要加分号的行，按 <span class="command">$</span> 键移动至行尾，然后按 <span class="command">a</span> 键就可以加入分号 <span class="command">;</span> 了，完成后按 <span class="command">[ESC]</span> 键回到普通模式。总结一下，在某一行完成这一任务需要依次完成以下按键 <span class="command">j $ a ; [ESC]</span>，然后你可以不断重复这一操作已完成改动。看到这里，如果你真的理解了句点命令的含义，你就会发现其中的 <span class="command">a ; [ESC]</span> 就是一个完整的“改动”，从而可以用句点 <span class="command">.</span> 一键代替，于是原本的操作已经精简为 <span class="command">j $ .</span> 了。怎么样，感觉到 Vim 的威力了吗？</p>
        <p>事实上，我们还可以作进一步精简，考虑到，命令 <span class="command">A</span> 相当于 <span class="command">$ a</span> 两次按键，如果从一开始我们就这样做，即使用 <span class="command">j A ; [ESC]</span> 加分号，那么在重复时，我们只需要按 <span class="command">j .</span> 两键就可以了，还记得那个句点公式吗，一键移动，一键操作，正是如此的写照。</p>
        <p>从这个简单的例子可见，磨刀不误砍柴工，好好组织一下第一次操作，可以为你之后的重复操作节省不少力气哦！</p>
        <p>像刚刚的例子，命令 <span class="command">A</span> 可以看成是两个命令 <span class="command">$ a</span> 的组合操作，Vim 中其实有不少这样的例子，以下就是一些常见的例子，具体解释请自行查询 <span class="command">:h [command]</span> 。</p>
        <ul>
          <li> <span class="command">C</span> = <span class="command">c $</span> </li>
          <li> <span class="command">s</span> = <span class="command">c l</span> </li>
          <li> <span class="command">S</span> = <span class="command">^ C</span> </li>
          <li> <span class="command">I</span> = <span class="command">^ i</span> </li>
          <li> <span class="command">A</span> = <span class="command">$ a</span> </li>
          <li> <span class="command">o</span> = <span class="command">A [Enter]</span> </li>
          <li> <span class="command">O</span> = <span class="command">k o</span> </li>
        </ul>
        <p>下载文件 <a download="tip-2.txt" href="https://raw.githubusercontent.com/baoyuanzh/VIM_Internship/master/tip-2.txt">tip-2.txt</a> 尝试一下吧。<p>
        </article>

        <!-- Tip 3 -->
        <article id="tip-3">
        <h4>备忘三、退一步，海阔天空</h4>
        <p>为了重复时节省力气，在第一次操作的时候偶尔可以牺牲一下，比如说我们想在某个特定的字符前后加入空格，我们可以定位到这个字符然后按下 <span class="command">i</span> 键进入插入模式插入空格，但是后面的空格怎么办呢，在插入模式下，光标是不能移动的，即使使用左右方向键移动到那个字符后面加入空格完成了整个操作也是没用的，因为在你按下方向键的那一刻，改动已经终止，当你再次回到普通模式下，按下句点 <span class="command">.</span> 时你会发现，它只在光标前加入了一个空格，而光标后面没有任何改变，至于为什么是这样，我还在学习中，如果你知道请<a href="mailto:baoyuan.zh@gmail.com">邮件</a>联系我，或者在我 Github 的项目创建一个 <a href="https://github.com/baoyuanzh/VIM_Internship/issues/new">issue</a> 。</p>
        <p>事实上在插入模式下来移动光标是不推荐的，因为这样会引起一系列的副作用。更为合理的做法是利用替换命令 <span class="command">s</span> ，该命令将删除当前光标下地字符然后进入插入模式等待输入，这时你就可以完成改动，再回到普通模式了，这样一来，最后一次改动就是在特定的字符前后加入空格了，接着我们就可以放心大胆的定位到下一个特定字符，通过句点命令来重复操作了。</p>
        <p>从这个例子可以看到，有时候光是想要利用这个句点命令来方便重复操作，其本身就要费不少心思的，但是相信我，你一定会得到回报的。不信，那你下载文件 <a download="tip-3.txt" href="https://raw.githubusercontent.com/baoyuanzh/VIM_Internship/master/tip-3.txt">tip-3.txt</a> 试试吧。内有惊喜，如果你乐意学习。<p>
        </article>

        <!-- Tip 4 -->
        <article id="tip-4">
        <h4>备忘四、执行、重复、撤销</h4>
        <p>重复的操作，用太嗨了给用过头了怎么办？你一定会遇到这种情况，比如多按了一次句点命令，或者连着定位了两次，又或者漏了用句点命令重复，等等。<p>
        <p>Vim 已经考虑到这种状况，因此对于一般的定位，执行和重复操作都设定了相应的撤销命令，具体的可以参考下表。</p>
        <table>
          <tr> <th>目的</th> <th>执行</th> <th>重复</th> <th>撤销</th> </tr>
          <tr> <td>改动</td> <td>一般的编辑操作</td> <td><span class="command">.</span></td> <td><span class="command">u</span></td> </tr>
          <tr> <td>搜索定位一行中光标后的某个字符</td> <td>f{某个字符} 或 t{某个字符}</td> <td><span class="command">;</span></td> <td><span class="command">,</span></td> </tr>
          <tr> <td>搜索定位一行中光标前的某个字符</td> <td>F{某个字符} 或 T{某个字符}</td> <td><span class="command">;</span></td> <td><span class="command">,</span></td> </tr>
          <tr> <td>搜索定位文件中光标后的某个模式匹配</td> <td>/模式[enter]</td> <td><span class="command">n</span></td> <td><span class="command">N</span></td> </tr>
          <tr> <td>搜索定位文件中光标前的某个模式匹配</td> <td>?模式[enter]</td> <td><span class="command">n</span></td> <td><span class="command">N</span></td> </tr>
          <tr> <td>替换某个模式匹配</td> <td>:s/模式匹配/替换模式</td> <td><span class="command">&amp;</span></td> <td><span class="command">u</span></td> </tr>
          <tr> <td>执行一系列改动</td> <td>qx{一系列改动}q</td> <td><span class="command">@x</span></td> <td><span class="command">u</span></td> </tr>
        </table>
        </article>

        <!-- Tip 5 -->
        <article id="tip-5">
        <h4>备忘五、手动搜索与替换</h4>
        <p>一般搜索以命令 <span class="command">/</span> 或者 <span class="command">?</span> 发起，但有时后如果光标恰好置于要搜索的文字上时，可以直接用命令 <span class="command">*</span> 来方便操作。具体见 <span class="command">:h *</span> 。</p>
        <p>想想看，有了这一命令，再结合重复操作 <span class="command">n</span> 以及撤销操作 <span class="command">N</span> ，它们就构成了完整的移动命令，方便你定位到需要改动的地方，再次以句点命令重复上一次改动。</p>
        </article>

        <!-- Tip 6 -->
        <article id="tip-6">
        <h4>备忘六、句点公式</h4>
        <p>总结一下，从备忘一到备忘五，它们都有一个统一的模式，即<em>一键移动，一键操作</em>。为了强化记忆我们将之称为<em>句点公式</em>。这在 Vim 来说是理想化的，试想还能有比这更简洁的方案吗？没有。</p>
        <p>再次强调，这一思想将贯穿于整个 Vim 的设计。</p>
        </article>

        <!-- Part 0: The Vim Way: END -->
        </section>

        <!-- Part 1: Modes: BEGIN -->
        <section id="p1-modes">

        <h3>VIM 的几种模式</h3>
        <p>Vim 有以下几种模式：</p>
        <ol>
          <li>普通模式 —— Normal Mode</li>
          <li>插入模式 —— Insert Mode</li>
          <li>可视模式 —— Visual Mode</li>
          <li>命令行模式 —— Command-Line Mode</li>
        </ol>
        <p>同样的按键在不同的模式下，可能代表了不同的命令，因此，清楚了解 Vim 当前处于什么模式之下以及如何在它们之间转换是完成各类操作的必要前提。</p>

        <!-- Normal mode: BEGIN -->
        <section id="normal-mode">

        <!-- Tip 7 -->
        <article id="tip-7">
        <h4>备忘七、休息时请离开你的画布</h4>
        <p>Vim 的默认模式为普通模式，对于习惯了其他编辑器的人来说，这有点奇怪，但是对于 Vim 的熟练工来说，如果默认模式不是普通模式的话会是难以想象的事情。</p>
        <p>具体请参见我在开头就提到的关于绘画的<a href="#painting-analogy">类比</a>。</p>
        </article>

        <!-- Tip 8 -->
        <article id="tip-8">
        <h4>备忘八、撤销改动</h4>
        <p><span class="command">u</span> 是 Vim 的撤销命令，它撤销最近的一次改动。这里不得不再次提到<a href="#tip-1-change">什么是改动</a>？</p>
        <p>为方便和完整起见，重述如下：</p>
        <ol>
          <li>任何从普通模式，可视模式以及命令行模式下发起的一次命令都算作一次改动。</li>
          <li>从进入插入模式到离开之间的任何输入或删除都算作一次改动。</li>
        </ol>
        <p>由于 Vim 的这一特性，其撤销操作是可自定义的。比如你什么时候离开插入模式完全由你决定。关于这一点，我们还可以多说一些，一个比较好的习惯就是在你写完一句话或一段话的时候离开插入模式。通常的规则就是，当你想停下来一会儿，而这一会儿的时间又足够你问自己这样一个问题：我该离开插入模式吗？那么别犹豫了，回到普通模式吧。</p>
        <p class="attention">注意：在插入模式下移动光标将重置改动，这就好像回到普通模式下用命令 <span class="command">h</span>，<span class="command">j</span>，<span class="command">k</span>，<span class="command">l</span> 来移动后再次进入插入模式。</p>
        </article>

        <!-- Tip 9 -->
        <article id="tip-9">
        <h4>备忘九、组织改动以便重复</h4>
        <p>还是那句老话，想要充分利用句点命令的作用，常常需要一些预见和思考。</p>
        <p>看一个例子，比如说我们要删除一个单词，而光标恰好处于这个单词的最后一个字母上，有多少种办法可以达到目的呢？<p>
        <ol>
          <li>向后删除 <span class="command">db</span> 接着 <span class="command">x</span></li>
          <li>向前删除 <span class="command">b</span> 接着 <span class="command">dw</span></li>
          <li>删除整个单词 <span class="command">daw</span></li>
        </ol>
        <p>这三种方案看起来都需要三次按键，但它们的效率相同吗？这视情况而定，比如说我们需要再删除此时最后一个单词，听起来有点熟悉，重复最后一次改动，嗯，句点命令来重复，但是它在三种情况下都等价吗？当然不是。分别来看这三种情况：</p>
        <ol>
          <li>此时 <span class="command">.</span> 相当于 <span class="command">x</span>，似乎没什么意义。</li>
          <li>此时 <span class="command">.</span> 相当于 <span class="command">dw</span>，还不错，但首先还需要一次定位。</li>
          <li>此时 <span class="command">.</span> 相当于 <span class="command">daw</span>，哇！这个谁用谁知道。<a download="tip-9.txt" href="https://raw.githubusercontent.com/baoyuanzh/VIM_Internship/master/tip-9.txt">tip-9.txt</a></li>
        </ol>
        <p>因此，有时候，句点命令并不是那么显而易见的，你还需要去组织一个可重复的模式。</p>
        <p>本备忘用到的命令，具体参见 <span class="command">:h b</span> 和 <span class="command">:h aw</span>。</p>
        </article>

        <!-- Tip 10 -->
        <article id="tip-10">
        <h4>备忘十、用计数做简单的算术</h4>
        <p>大部份普通模式下的命令都可以用计数去规定它执行的次数，具体参见 <span class="command">:h count</span>。</p>
        <p>这里主要介绍两个命令：</p>
        <dl>
          <dt><span class="command">&lt;Ctrl-a&gt;</span> 具体参见 <span class="command">:h ctrl-a</span></dt>
          <dd>对本行中光标下或后面的数字做加法，默认加一，如果给出计数，则加上该计数。</dd>
          <dt><span class="command">&lt;Ctrl-x&gt;</span> 具体参见 <span class="command">:h ctrl-x</span></dt>
          <dd>对本行中光标下或后面的数字做减法，默认减一，如果给出计数，则减去该计数。</dd>
        </dl>
        <p class="attention">注意 Vim 对数字格式的控制，默认情况下，数字前如果带有 0，则按照八进制做加减法。如果这不是你想要的，你需要用 <span class="command">set nrformats=</span> 来改变这种行为，使 Vim 对任何数字都按照十进制做加减法。可以使用 <span class="command">:set nrformats?</span> 来查看当前设置。更多请参考 <span class="command">:h nrformats</span>。</p>
        <p>下载 <a download="tip-10.txt" href="https://raw.githubusercontent.com/baoyuanzh/VIM_Internship/master/tip-10.txt">tip-10.txt</a> 试一试吧！</p>
        </article>

        <!-- Tip 11 -->
        <article id="tip-11">
        <h4>备忘十一、要是能重复，计数就要再考虑考虑了</h4>
        <p>像上一个备忘说过的那样，Vim 中得大多数命令都可以前置计数来控制命令执行的次数。利用这一点也可以减少按键次数。但是需要指出的是，尽管 Vim 提供了这一特性，但并不意味利用计数就一定是最佳的解决方案。看下面这个例子：</p>
        <p>比如说我们要删除光标后面的两个单词，有以下几种可能的解决方案：</p>
        <table>
          <tr> <td>命令</td> <td>这个命令应该理解为：</td> </tr>
          <tr> <td><span class="command">d2w</span></td> <td>删除后两个单词</td> </tr>
          <tr> <td><span class="command">2dw</span></td> <td>删除一个单词，执行两次</td> </tr>
          <tr> <td><span class="command">dw.</span></td> <td>删除一个单词然后重复</td> </tr>
        </table>
        <p>从上表中可以看出这些命令的意义略有不用，但却都只需要三次按键。那么哪一个才是最佳答案呢？</p>
        <p>答案是，<span class="command">d2w</span> 和 <span class="command">2dw</span> 可以认为是等同的，但 <span class="command">dw.</span> 需要区别，究竟哪一个更好则视情况而定。比如，我实际上只需要删除第一个单词，对于前两个命令，要么撤销整个命令，然后删除一个单词，要么插入需要保留的单词，而对于最后的命令，它其实应该视作两次改动，因此我们只需要简单地撤销最后一次重复命令即可。又比如，实际上我需要删除后一个单词，要么插入需要保留的单词，那么这三个命令没有什么区别，要么撤销前面的改动重做，那么貌似，前两个命令更方便一些。</p>
        <p>因此本备忘的结论就是，计数和重复，视情况和你的喜好来决定用哪一个。</p>
        <p>一点经验之谈，大多数情况下，重复是更好的选择，因为大多数时候，数数也是挺无聊的不是？</p>
        </article>

        <!-- Tip 12 -->
        <article id="tip-12">
        <h4>备忘十二、操作与移动的结合</h4>
        <p>Vim 非凡的效力常常来自于操作与移动的结合，这同样是贯穿于 Vim 设计的另一条主线。因此，请记住！</p>
        <blockquote class="attention">操作命令 + 移动命令 = 行动命令（改动）</blockquote>
        <p>比如删除 <span class="command">d</span> 是一个操作，它和不同的移动命令结合在一起最终形成不同的命令。</p>
        <table>
          <tr> <td>操作</td> <td>移动</td> <td>最终命令</td> <td>意义</td> </tr>
          <tr> <td rowspan="3"><span class="command">d</span></td> <td><span class="command">l</span></td> <td><span class="command">dl</span></td> <td>删除一个字符</td> </tr>
          <tr> <td><span class="command">aw</span></td> <td><span class="command">daw</span></td> <td>删除一个单词</td> </tr>
          <tr> <td><span class="command">ap</span></td> <td><span class="command">dap</span></td> <td>删除一段话</td> </tr>
        </table>
        <p>把上表中的删除操作命令 <span class="command">d</span> 换成其他的操作，如 <span class="command">c</span> 和 <span class="command">y</span> 等代入，同样可以和不同的移动命令组合成不同的行动。因此，只要知道了一些操作命令和一些移动命令，其实你只要将它们交叉组合，就已经知道“一些×一些”那么多的命令了，更多关于操作命令和移动命令的内容可以参考 <span class="command">:h operator</span>  ，整个帮助与移动命令有关。</p>
        <p>最后再补充一条规则，将操作命令重复按两次，等于将该操作应用于整行。</p>
        <blockquote class="attention">操作 + 同一操作 = 把该操作应用于整行</blockquote>
        <p>比如 <span class="command">gUgU</span> 将把整行的字母大写化，是的，<span class="command">gU</span> 是一个操作命令。</p>
        <p class="remark">关于操作悬挂模式：其实除了<a href="#p1-modes">本节</a>开头提到的几种主要模式外，Vim 还有其他一些模式，比如这里我们要提到的“操作悬挂模式”。该模式指的是这样一个状态，即它只接受移动命令，当我们输入操作命令后，操作悬挂模式被激活，但是什么改动也没发生，它等待移动命令来完整这一个操作，然后执行改动。在操作悬挂模式激活的状态下，我们同样可以只用 <span class="command">Esc</span> 来退回普通模式，即放弃操作。</p>
        <p class="remark">当然了，有很多命令也需要多次按键才能完整，但是它们与操作悬挂模式不同，多数情况下，第一个按键只相当于是第二个按键的前缀，比如 <span class="command">g</span>，<span class="command">z</span>，<span class="command">[</span>，<span class="command">ctrl-w</span>，用 <span class="command">:h</span> 来查看它们的意义。这些命令并不激发操作悬挂模式，之所以用多个按键来表示一个命令，你可以这样理解，其前缀提供了一个新的命名空间，使得命令的数量得以增加，仅此而已。</p>
        <p class="remark">你也许会奇怪，为了只存在于操作命令和移动命令之间那么短暂的几毫秒，为什么要专门定义这么一个模式，而其他多个按键的命令仍然归于普通模式呢。这是因为，Vim允许你自定义操作和移动，换言之，这个模式的存在，使 Vim 的命令的扩展变得极为高效，试想，自定义一个移动，它可以和所有操作命令配合得到相应的命令，定义一个操作则可以和所有移动命令结合，不用我再多说了吧。</p>
        <p class="remark">关于自定义操作命令，可以参考 <span class="command">:h map-operator</span> ，关于如何自定义移动，则相对复杂，建议可以从 <span class="command">:h omap-info</span> 开始了解。另外，你也可以特别关注一下 <a href="https://github.com/tpope">Tim Pope</a> 和 Kana Natsuno 的<a href="https://github.com/kana/vim-textobj-user">一个项目</a>。</p>
        </article>

        <!-- Normal mode: END -->
        </section>

        <!-- Insert mode: BEGIN -->
        <section id="insert-mode">

        <!-- Tip 13 -->
        <article id="tip-13">
        <h4>备忘十三、在插入模式下直接修正</h4>
        <p>如果在插入模式下犯了错，我们可以立刻对其进行修正，而无需转换模式。</p>
        <p>除了退回键可用于插入模式下的修改以外，我们还有其他一些插入模式下的命令可以用于修改。通常情况下，如果要修正的错误在单词的结尾附近，那么利用退回键删除最后的输入，然后重新输入是最快捷的，但是如果要修正的错误在单词开头呢？</p>
        <p>专业打字员的建议是，删掉整个单词重新打一遍，试想，如果你的打字速度超过一分钟六十个，重打一遍不过只需要一秒钟。</p>
        <p>不这么做的话，你需要切换到普通模式，定位到要修正的错误，然后修正。最后再返回插入模式。没错，你可以这么干，但这对你提高打字速度毫无帮助，而且这显然需要超过一秒的时间。我们可以在模式之间切换并不意味着我们就应该这么做。</p>
        <p>在插入模式下，有这么几个命令值得记忆：</p>
        <table>
          <tr> <td>按键</td> <td>效果</td> </tr>
          <tr> <td><span class="command">ctrl-h</span></td> <td>回删一个字符，相当于退回键。</td> </tr>
          <tr> <td><span class="command">ctrl-w</span></td> <td>回删一个单词。</td> </tr>
          <tr> <td><span class="command">ctrl-u</span></td> <td>回删至本行的开头。</td> </tr>
        </table>
        </article>

        <!-- Tip 14 -->
        <article id="tip-14">
        <h4>备忘十四、回到普通模式</h4>
        <p>尽管我们最长停留在普通模式，但是不管怎么样，插入模式只为一件任务而生，那就是输入文字。因此知道如何在这两者之间切换，并且快速切换显得至关重要。</p>
        <p>经典的方式当然是利用 <span class="command">Esc</span> 键，但是在大多数键盘上，这就像是一次长途旅行一样让人疲惫不堪，替换的方案是利用 <span class="command">ctrl-[</span> 来达到一模一样的效果，在 Vim 中该命令等同于 <span class="command">Esc</span> 。</p>
        <p id="insert-nomarl-mode">此外，我们也许常常会碰到这样一个情景，即在插入模式，我们需要进入普通模式以便触发一个普通模式下地命令，然后回到原地方继续输入。Vim 对此有一个绝佳的解决方案，简直帅呆了酷毙了。</p>
        <p>这就是所谓的“插入普通模式”，该模式给我们触发一个普通模式下命令的机会，执行完该命令后自动回到原处进入插入模式。你只要在插入模式下按 <span class="command">ctrl-o</span> 就激发了该模式。来看个例子。</p>
        <p>我们在输入时，光标下移，然而整个文件的各行是不动的，除非光标已触底仍要继续向下，这时文件上移一行，但我们往往希望，光标能居于屏幕中央，以便我们的视线可以兼顾到上下文，<span class="command">zz</span> 命令为此而生，然而我们需要进入普通模式才行，但现在有了 <span class="command">ctrl-o</span> ，一切水到渠成，在插入模式下按 <span class="command">ctrl-o zz</span> 便到达了目的，随后紧接着，你就又可以继续输入了。</p>
        </article>

        <!-- Tip 15 -->
        <article id="tip-15">
        <h4>备忘十五、插入模式下从寄存器粘贴</h4>
        <p>复制和粘贴操作通常都是在普通模式下进行，对了，说句题外话，在 Vim 中其实复制更准确的应该说是抽取 (yank) ，对应的命令是 <span class="command">y</span> ，粘贴应该说是放置 (put) ，对应的命令是 <span class="command">p</span> 。但是有时候，我们也许想在插入模式下直接粘贴一些文本。<p>
        <p><span class="command">&lt;ctrl-r&gt;{寄存器名称}</span> 命令就是为此而设计的。</p>
        <p>该命令在插入模式下，将指定的寄存器存储的内容粘贴到光标当前位置下。需要注意的是，这个命令一般只适用于少量内容，因为如果 Vim 的 'textwidth' 和 'autoindent' 开启的话，有可能引起你所不期望的截断与缩进。这是因为当我们将寄存器的内容在插入模式下往出粘贴的时候，实际就好像是我们一个字符一个字符地从键盘输入的，因而，除了上述副作用外，你还可能会注意到少许的延时现象。<br />更多内容请参考 <span class="command">:h i_ctrl-r</span> 。</p>
        <p><span class="command">&lt;ctrl-r&gt;&lt;ctrl-p&gt;{寄存器名称}</span> 会稍微聪明一些，它在粘贴时只按原文照搬，同时修复非预期的缩进。请参考 <span class="command">:h i_ctrl-r_ctrl-p</span> 。</p>
        <p>具体应用场景可以下载 <a download="tip-15.txt" href="https://raw.githubusercontent.com/baoyuanzh/VIM_Internship/master/tip-15.txt">tip-15.txt</a> 尝试。</p>
        </article>

        <!-- Tip 16 -->
        <article id="tip-16">
        <h4>备忘十六、简单计算并插入结果</h4>
        <p>如果在备忘十五中你查看了 <span class="command">:h i_ctrl-r</span> ，那么你可能会注意到一个比较有意思的寄存器 &mdash; 表达式寄存器 (expression register) 。这是干啥用的呢？简单说，就是你可以输入一个表达式，让 Vim 来替你计算，然后在文本中插入计算所得的结果。</p>
        <p>比如说，你正输入一张表格，第一列是物品，第二列是数量，第三列是单价，最后你发现，加上第四列该物品总价是个不错的主意时，你就会发现表达寄存器是个不错的玩意了。要不试试 <a download="tip-16.txt" href="https://raw.githubusercontent.com/baoyuanzh/VIM_Internship/master/tip-16.txt">tip-16.txt</a> 。<p>
        <p>说半天没讲这个命令长什么样，记住是这样的 <span class="command">&lt;ctrl-r&gt;=</span> ，还没完，这时 Vim 将激发表达式寄存器，注意屏幕左下角，你现在可以输入要计算的表达式了，完成后请按回车键。注意该表达式并不仅仅限于算术运算。</p>
        </article>

        <!-- Tip 17 -->
        <article id="tip-17">
        <h4>备忘十七、用字码输入特殊字符</h4>
        <p>Vim 可以用字码来输入任何字符，这对于输入一些键盘上找不到的字符是极为方便的。在插入模式下，我们可以用 <span class="command">&lt;ctrl-v&gt;{最多三位十进制字码}</span> 来实现这一目的。<p>
        <p>比如我们想输入大写字母 A ，它的字码是65，于是我们就可以用 <span class="command">&lt;ctrl-v&gt;065</span> 来输入。</p>
        <p>但是如果我们想输入的字符的字码多于三位数怎么办呢？别急，我们还有十六进制表达法，具体如下， <span class="command">&lt;ctrl-v&gt;u{最多四位十六进制字码}</span> ，注意到四位十六进制字码前置的 u ，这样的表达方式下，其可以表达的字符数达到 65536 个，这样就大概覆盖了基本的 Unicode 字符集。比如我们想输入 ¿ 。就可以用 <span class="command">&lt;ctrl-v&gt;u00bf</span> 。更多内容可以参考 <span class="command">:h i_ctrl-v_digit</span> 。</p>
        <p class="remark">最后值得一提的是，如果 <span class="command">&lt;ctrl-v&gt;</span> 后如果紧接着一个非数字按键，那么 Vim 将保证输入该按键代表的字符，比如说，在 expandtab 选项启用时，我们直接键入的 Tab 键将被转换为对应的空格，而有时候，这不是我们想要的，比如说，makefile 就要求必须输入 Tab ，这时我们就可以 <span class="command">&lt;ctrl-v&gt;&lt;Tab&gt;</span> 这样输入 Tab，Vim 保证输入的 Tab 不会被 expandtab 解释成空格。</p>
        <p>总结一下：</p>
        <table>
          <tr> <th>按键</th> <th>例子</th> <th>输入字符</th> </tr>
          <tr> <td>&lt;ctrl-v&gt;{最多三位十进制字码}</td> <td>&lt;ctrl-v&gt;165</td> <td>¥</td> </tr>
          <tr> <td>&lt;ctrl-v&gt;u{最多四位十六进制字码}</td> <td>&lt;ctrl-v&gt;u00a5</td> <td>¥</td> </tr>
          <tr> <td>&lt;ctrl-v&gt;{非数字按键}</td> <td>&lt;ctrl-v&gt;$</td> <td>$</td></tr>
        </table>
        <p>小技巧，如果你想要知道某个字符的字码，可以将光标移动到这个字符上，然后用 <span class="command">ga</span> 去查看十进制、十六进制和八进制的字码。当然这技巧可能并不大实用。如果你想要输入的字符不在文本中，而你又不知道其字码，那么大概你只能去 Unicode 字符集上查找了。</p>
        </article>

        <!-- Tip 18 -->
        <article id="tip-18">
        <h4>备忘十八、用复合字母来输入特殊字符</h4>
        <p>用字码来输入字符的优点是你大概可以输入任何可以打印的字符，缺点是难以记忆。</p>
        <p>vim 为此提供了另一种方案来输入一些你可能常用的又不在键盘上的字符，该方案用一对复合字母来表达特殊字符，命令为 <span class="command">&lt;ctrl-k&gt;&lt;字母&gt;&lt;字母&gt;</span> 。这里字母的意义有扩大，并不局限于二十六个英文字母。</p>
        <p>比如本人<abbr title="Fri Oct 31 23:42:40 CET 2014">目前</abbr>还在维护另一个关于<a href="http://baoyuanzh.github.io/grammaire-fr/">法语语法的项目</a>（如果你感兴趣也可以去看看），就经常遇到需要输入法语中一些比较特殊的字符的问题，比如 ê œ à é ö 等等，如果用切换输入法的话，本来在 Vim 里用中文就已经够麻烦的了，再加上法语输入，Oh~là~~à~~~，c'est pas vrai. 因此，我花了一点时间记忆这些特殊字母，因为不是很多而且是有规律的，我没有花两分钟大概就基本记住了，接下来再维护这个项目时就轻松多了。</p>
        <p>你可以用 <span class="command">:h digraph-table</span> 来查找在 Vim 中能够用复合字母表示的字符。</p>
        <p>上面提到的例子：</p>
        <table>
          <tr> <th>输入字符</th> <th>按键</th> </tr>
          <tr> <td>ê</td> <td>&lt;ctrl-k&gt;e&gt;</td> </tr>
          <tr> <td>œ</td> <td>&lt;ctrl-k&gt;oe</td> </tr>
          <tr> <td>à</td> <td>&lt;ctrl-k&gt;a!</td> </tr>
          <tr> <td>é</td> <td>&lt;ctrl-k&gt;e'</td> </tr>
          <tr> <td>ö</td> <td>&lt;ctrl-k&gt;o:</td> </tr>
        </table>
        </article>

        <!-- Tip 19 -->
        <article id="tip-19">
        <h4>备忘十九、替换模式下覆盖原有文本</h4>
        <p>替换模式与插入模式基本相同，除了替换模式下输入的文本覆盖原有的文本。</p>
        <p>在普通模式下按 <span class="command">R</span> 进入替换模式，之后你的输入将覆盖原文。</p>
        <p>在替换模式下，覆盖某些字符的情形可能会比较复杂，试想光标正好停留在一个 Tab 字符上，该字符将紧接着的内容对齐到下一个制表位，因此和光标之间看起来似乎存在多个空格，但其实只是一个制表符，因此当你输入一个字符时，整个制表符被覆盖，或者说被替换，感觉就好像用一个字符替换了很多个空格，这常常会引起我们不想看到的表现形式的变化。为此，Vim 提供了另一种模式 &mdash; 虚拟替换模式。在该模式下，Vim 替换的是在屏幕上表现出来的字符，而不是实际上真正的字符。因此，对于制表符而言，除非你的输入已经超过了这个制表符的制表位，否则，你之前的输入就好像在这个制表符前进行插入。激发虚拟替换模式的命令是 <span class="command">gR</span> 。</p>
        <p>此外，Vim 还提供一次性的替换模式，即在普通模式下用 <span class="command">r</span> 或 <span class="command">gr</span> 进入相应的替换模式或虚拟替换模式以便替换光标下的一个字符，仅仅一个字符，然后便自动回到普通模式。该过程和 <a href="#insert-nomarl-mode"><span class="command">&lt;ctrl-o&gt;</span></a> 类似，然而模式切换的方向却正好相反。</p>
        <p>更多内容请参考 <span class="command">:h R</span>，<span class="command">:h r</span>，<span class="command">:h gR</span> 和 <span class="command">:h gr</span> 。</p>
        </article>

        <!-- Insert mode: END -->
        </section>

        <!-- Visual mode: BEGIN -->
        <section id="visual-mode">

        <!-- Tip 20 -->
        <article id="tip-20">
        <h4>备忘二十、神游可视化模式</h4>
        <p>可视化模式让我们可以选取一部分文本以便在其上进行操作。尽管听起来很直接，但 Vim 对于如何选取文本有不同的理解。此外，还需要记住，可视化模式是不同于普通模式和插入模式的另一个主要模式，因此，在该模式下，同一个按键代表的可能是不同的意义。</p>
        <p>很多在普通模式下的命令，在可视化模式下的意义相同，比如 <span class="command">h</span>, <span class="command">j</span>, <span class="command">k</span>, <span class="command">l</span>, <span class="command">f{字符}</span>, <span class="command">;</span>, <span class="command">,</span>, <span class="command">n</span>, <span class="command">N</span> 等等，但是，唯一需要注意的是当我们用这些命令移动光标时，我们同时也改变了被选中的文本的边界。</p>
        <p>另一些命令在可视化模式下意义略有改变，这些命令大多是我们在 <a href="#tip-12">tip-12</a> 中提到过的操作，<span class="command">:h operator</span> 。在普通模式中，这些操作必须和某个移动操作组合在一起以便完成改动，然而在可视化模式下，则是先选中需要改动的文本，再使用这些命令时则直接触发改动。这和大多数其他编辑器的逻辑是一致的，但是在细节上还是不要忘了 Vim 有模式之分，比如在其他编辑器中，选中的文本可以直接用新文本替换，但在 Vim 中选中文本后，别忘了你仍然需要用具体的命令来提示 Vim 你接下来需要做的事，比如用 <span class="command">c</span> 来替换文本。这似乎更麻烦，但不要忘了，在其他大多数编辑器中，你大概只能删除、替换或复制选中的文本，而 Vim 正是因为多了中间这一步，才大大丰富了你接下来所能做到的事情。</p>
        <p class="remark">选择模式：其实 Vim 也可以模拟其他编辑器选中文本后可以直接进行改变的行为，你只要在可视化模式下用 <span class="command">&lt;ctrl-g&gt;</span> 来进行切换，这时 Vim 左下角显示字样将由 -- INSERT -- 变为 -- SELECT -- 。相信我，如果你愿意接受 Vim 的本质，你会发现其实选择模式并无多大用处。更多内容请参考 <span class="command">:h Select-mode</span> 。</p>
        </article>

        <!-- Tip 21 -->
        <article id="tip-21">
        <h4>备忘二十一、可视化选中区域</h4>
        <p>Vim 的可视化模式有三个子模式，它们分别是：</p>
        <ol>
          <li>字符可视化模式 &mdash; character-wise Visual mode</li>
          <li>行可视化模式 &mdash; line-wise Visual mode</li>
          <li>块可视化模式 &mdash; block-wise Visual mode</li>
        </ol>
        <p>本备忘主要说明如何启动这些模式，以及在它们之间进行切换。</p>
        <p>在普通模式下，命令 <span class="command">v</span> 令我们进入字符可视化模式，或者用命令 <span class="command">V</span> 进入行可视化模式，又或者用 <span class="command">&lt;ctrl-v&gt;</span> 进入块可视化模式。对于如何在它们之间切换则十分直接，你想要进入哪个模式，就用那个模式对应的这三个命令之一就可以了。</p>
        <p>最后再添加两个命令，与可视化模式一起使用是非常有益的。其一是命令 <span class="command">gv</span> ，该命令在普通模式下应用，它将选中最后一次由可视化模式选中的文本。其二是命令 <span class="command">o</span> ，注意该命令在可视化模式下应用与在普通模式下应用时意义的不同。在普通模式下，它代表新增一行并进入插入模式，在可视化模式下，则表示切换选中文本的自由端。可视化模式选中的文本区域一般有两端，其中一端是固定端，当我们用移动命令来移动光标时，它是不动的，另一端则是自由端，它则随着光标的移动来涨缩选中文本的区域。<span class="command">o</span> 命令在可视化模式下就是用来转换这两端的角色滴。</p>
        </article>

        <!-- Tip 22 -->
        <article id="tip-22">
        <h4>备忘二十二、可视化模式下命令的重复</h4>
        <p>本备忘十分简单，当我们在可视化模式下执行一个命令后，我们将自动回到普通模式，这时如果我们用句点命令 <span class="command">.</span> 会怎么样呢？答案很简单，它将按照当前光标位置计算出相当于最后一次选中的文本区域，然后对该区域内文本重复最后一次改动。</p>
        <p>这样的设定对于行可视化模式下的改动往往是最合适的。用例子最容易说明一切，下载 <a download="tip-22.txt" href="https://raw.githubusercontent.com/baoyuanzh/VIM_Internship/master/tip-22.txt">tip-22.txt</a> 按照里面的说明一试便知。之后请阅读下一个备忘。</p>
        </article>

        <!-- Tip 23 -->
        <article id="tip-23">
        <h4>备忘二十三、普通模式下操作往往优于可视化模式下的命令</h4>
        <p>可视化模式可能看起来更直观，但却并不总是那么好用，原因在于它和句点命令的配合有时不是我们想要的。看下面这个例子，比如说我们有这样几行文本，</p>
        <pre><code>
  <span class="cursor">&lt;</span>a href="#"&gt;one&lt;/a&gt;
  &lt;a href="#"&gt;two&lt;/a&gt;
  &lt;a href="#"&gt;three&lt;/a&gt;
        </code></pre>
        <p>现在我想把标签内的文本全部改成大写。利用可视化模式在第一行用命令 <span class="command">vit</span> 选中文本 <code>one</code> ，这里的 <span class="command">it</span> 是一个比较特殊的移动命令，叫做文本对象，可以理解为“标签内的文本”，具体可参考<a href="#tip-51">备忘五十一</a>，整个命令可理解为“可视化选中标签内的文本”。接着用可视化模式下的命令 <span class="command">U</span> 将其全部大写，关于该命令请参考 <span class="command">:h v_U</span> ，文本变为如下，光标停留在字母 O 上。</p>
        <pre><code>
  &lt;a href="#"&gt;<span class="cursor">O</span>NE&lt;/a&gt;
  &lt;a href="#"&gt;two&lt;/a&gt;
  &lt;a href="#"&gt;three&lt;/a&gt;
        </code></pre>
        <p>现在我们下移一行，光标停留在 two 的字母 t 上，这时用句点命令会发生什么呢？试一下，很好，它的效果完全如预期的那样将 two 大写为 TWO，如下：</p>
        <pre><code>
  &lt;a href="#"&gt;ONE&lt;/a&gt;
  &lt;a href="#"&gt;<span class="cursor">T</span>WO&lt;/a&gt;
  &lt;a href="#"&gt;three&lt;/a&gt;
        </code></pre>
        <p>现在我们再下移一行，光标停留在 three 的字母 t 上，这时用句点命令又会发生什么呢？试一下，似乎不太好，它将 three 变为 THRee，如下：</p>
        <pre><code>
  &lt;a href="#"&gt;ONE&lt;/a&gt;
  &lt;a href="#"&gt;TWO&lt;/a&gt;
  &lt;a href="#"&gt;<span class="cursor">T</span>HRee&lt;/a&gt;
        </code></pre>
        <p>如果你还记得上一个备忘，那么你就能很好地理解这一现象。对于句点命令来说，它首先将计算出最后一次改动要在那些文本上重复应用，这些文本是按照当前光标的位置以及最后一次可视化时选取的文本来计算的，即简单从光标当前位置往后推最后一次可视化时选中的文本的量。如果你这时用命令 <span class="command">gv</span> ，你将看到最后一次可视化模式所选中的文本 &mdash; 三个字符，因此句点命令只将光标下及其后的三个字符大写化了。</p>
        <p>但如果我们不进入可视化模式而直接在普通模式下利用命令 <span class="command">gUit</span> 来大写化标签内的文本，那么再利用句点命令重复时就不会出现上述可视化模式下的问题了。</p>
        <p>你可以下载 <a download="tip23.txt" href="https://raw.githubusercontent.com/baoyuanzh/VIM_Internship/master/tip-23.txt">tip-23.txt</a> 试试。</p>
        </article>

        <!-- Tip 24 -->
        <article id="tip-24">
        <h4>备忘二十四、用块可视化模式编辑表格</h4>
        <p>块可视化模式是一个极有趣又有用的模式，编辑器对于一般的横向编辑都没有问题，但是对于纵向的编辑则需要特殊的工具，块可视化模式就是这样一个工具。</p>
        <p>我们用下面这个例子以及后面的两个备忘来大概了解一下块可视化模式的用途。</p>
        <p>比如我们有这样一个文本，我们希望在第一列和第二列之间插入一竖线使得它看起来更像是表格。</p>
        <pre><code>
  <span class="cursor">备</span>忘号       内容 
  二十一       可视化选中区域
  二十二       可视化模式下命令的重复
  二十三       普通模式下操作往往优于可视化模式下的命令
  二十四       用块可视化模式编辑表格
        </code></pre>
        <p>我们可以这样做，首先将光标移动到两列之间的空格上，用 <span class="command">&lt;ctrl-v&gt;4j</span> 选中一个矩形块，现在知道块可视化模式的具体意义了吧，接着用 <span class="command">x</span> 删除这些空格，如果你想多删除两列之间的空格，也可以用 <span class="command">.</span> 来重复操作。接着再次选中一竖列，命令可以用最初的那个，也可以用 <span class="command">gv</span> 来复现最后一次选中的文本，这里“最后一次选中的文本"的意义略有歧意，因为毕竟被选中的文本已被删除，因此，这里的意义准确来说应该是最后一次被选中的可视化文本所在位置下的文本。然后我们可以用 <span class="command">r|</span> 将这些空格替换成竖线。如下：</p>
        <pre><code>
  备忘号  <span class="cursor">|</span>  内容 
  二十一  |  可视化选中区域
  二十二  |  可视化模式下命令的重复
  二十三  |  普通模式下操作往往优于可视化模式下的命令
  二十四  |  用块可视化模式编辑表格
        </code></pre>
        <p>事实上这样的替换方法也并不仅仅局限于块可视化模式，它在其它几个可视化模式下也是适用的，比如现在我们希望用短划线将第一行和后面的内容分开，我们可以用 <span class="command">yyp</span> 复制第一行内容，再用 <span class="command">V</span> 选中复制出来的这一行，最后再用 <span class="command">r-</span> 替换完成。</p>
        <pre><code>
  备忘号  <span class="cursor">|</span>  内容
  -----------
  二十一  |  可视化选中区域
  二十二  |  可视化模式下命令的重复
  二十三  |  普通模式下操作往往优于可视化模式下的命令
  二十四  |  用块可视化模式编辑表格
        </code></pre>
        <p>这里的效果不太好是因为中文造成的，你可以复制最长的那一行来替换，实在不行，自己加长一点吧。你可以在 <a download="tip-24.txt" href="https://raw.githubusercontent.com/baoyuanzh/VIM_Internship/master/tip-24.txt">tip-24.txt</a> 里自由发挥。</p>
        </article>

        <!-- Tip 25 -->
        <article id="tip-25">
        <h4>备忘二十五、如何改变列</h4>
        <p>块可视化模式并不仅仅能用来编辑表格，它还可以同时在若干行插入文本或改变文本。假设有这样的文本：</p>
        <pre><code>
  <span class="cursor">l</span>i.one   a{ background-image: url('/images/sprite.png'); }
  li.two   a{ background-image: url('/images/sprite.png'); }
  li.three a{ background-image: url('/images/sprite.png'); }
        </code></pre>
        <p>我们要将 images 改成 components，换做以前我们可以这样做，将光标定位到 images 上，用命令 <span class="command">caw</span> 将 images 改成 components ，然后反复用句点命令 <span class="command">j.</span> 重复完成余下的工作，但是这里比较凑巧的是，这三个单词是纵向对其的，因此我们可以用块可视化模式同时选中它们，不用我多说了吧，接着在块可视化模式下发动命令 <span class="command">c</span> ，这时，我们进入插入模式，你可以接着输入 components ，但是 Vim 的表现有些奇怪，它现在变成这样了，注意，这时候你还在插入模式下，</p>
        <pre><code>
  li.one   a{ background-image: url('/components<span class="cursor">/</span>sprite.png'); }
  li.two   a{ background-image: url('//sprite.png'); }
  li.three a{ background-image: url('//sprite.png'); }
        </code></pre>
        <p>但是只要你一按下 <span class="command">Esc</span> 退回到普通模式，Vim 就会发一会儿呆，然后文本就变成这样子了：</p>
        <pre><code>
  li.one   a{ background-image: url('/component<span class="cursor">s</span>/sprite.png'); }
  li.two   a{ background-image: url('/components/sprite.png'); }
  li.three a{ background-image: url('/components/sprite.png'); }
        </code></pre>
        <p>这就是我们说的用块可视化模式来进行多行同时编辑。虽然过程并不是很同步，但只要结果如你所愿，也没什么不可以的不是。</p>
        <p class="remark">不过有时候我想，这个例子有点被设计过的意思，要是 images 这个单词没对齐怎么办，或许可以参考<a href="#tip-5">备忘五</a>得到一个可能的解决方案。你可以下载 <a download="tip-25.txt" href="https://raw.githubusercontent.com/baoyuanzh/VIM_Internship/master/tip-25.txt">tip-25.txt</a> 自行尝试。</p>
        </article>

        <!-- Tip 26 -->
        <article id="tip-26">
        <h4>备忘二十六、如何选择不规则的块并在其后添加内容</h4>
        <p>事实上，块可视化模式并不一定要选中规则的矩形块，它还能理解行尾这一特殊位置。以下我们用一个例子来说明这个问题。</p>
        <pre><code>
  var one <span class="cursor">=</span> 1
  var letter = 'a'
  var string = "this is a string"
        </code></pre>
        <p>这里其实我们用的是和<a href="#tip-2">备忘二</a>同一个例子，即在每行的末尾添加分号，假设光标正好停在第一行等号上。这时我们用 <span class="command">&lt;ctrl-v&gt;jj</span> 选中三行一列，这时我们用 <span class="command">$</span> 将光标移至末尾，文本的样子则如下所示：</p>
        <pre><code>
  var one <span class="selected">= 1</span>
  var lett<span class="selected">er = 'a'</span>
  var stri<span class="selected">ng = "this is a string</span><span class="cursor">"</span>
        </code></pre>
        <p>接着用命令 <span class="command">A</span> 进入插入模式，光标也自动跳至最高一行的行尾：</p>
        <pre><code>
  var one = 1<span class="cursor"> </span>
  var letter = 'a'
  var string = "this is a string"
        </code></pre>
        <p>插入分号后返回普通模式，如同<a href="#tip-25">备忘二十五</a>，我们再次见识到 Vim 的神奇反应，分号被添加到下两行行尾。</p>
        <pre><code>
  var one = <span class="cursor">1</span>;
  var letter = 'a';
  var string = "this is a string";
        </code></pre>
        <p class="remark">受这一命令的启发，本人好奇的使用命令 <span class="command">f{字符}</span> 尝试了一下，看看是否 Vim 智能到也能理解这个意思，不过不幸的是，答案是否定的，要不给 Vim 作者写个邮件，提个建议？或者自己编写个插件什么的？</p>
        <p>多说无益，还是得自个试试才行，<a download="tip-26.txt" href="https://raw.githubusercontent.com/baoyuanzh/VIM_Internship/master/tip-26.txt">tip-26.txt</a> 。</p>
        <p class="remark">最后在这里再多说几句 Vim 关于 <span class="command">i</span> 和 <span class="command">a</span> 的惯例，在普通模式直接使用它们都讲进入插入模式，无非光标的位置略有差别，同样的，<span class="command">I</span> 和 <span class="command">A</span> 也是如此，只是 <span class="command">I</span> 将光标置于一行首个非空白字符前，一个置于行尾。类似的在可视化模式下，<span class="command">I</span> 和 <span class="command">A</span> 也用于切换进入插入模式，一个将光标置于被选择文本头前，另一个将光标置于被选择的文本尾后。于是我们会想，<span class="command">i</span> 和 <span class="command">a</span> 在可视化模式下是啥意思呢？这里它们所遵循的惯例有另外的意义：它俩代表一个文本对象的前一半，用于限定文本对象，<span class="command">i</span> 表示里边，<span class="command">a</span> 表示全部，它们和另外一键组合起来共同表示一个文本对象，比如<a href="#tip-23">备忘二十三</a>中提到过的 <span class="command">vit</span> 中的 <span class="command">it</span> 就表示一个标签的内部。具体请参看<a href="#tip-51">备忘五十一</a>。</p>
        </article>

        <!-- Tip 27 -->
        <article id="tip-27">
        <h4>备忘二十七、</h4>
        </article>

        <!-- Tip 28 -->
        <article id="tip-28">
        <h4>备忘二十八、</h4>
        </article>

        <!-- Tip 29 -->
        <article id="tip-29">
        <h4>备忘二十九、</h4>
        </article>

        <!-- Tip 30 -->
        <article id="tip-30">
        <h4>备忘三十、</h4>
        </article>

        <!-- Tip 31 -->
        <article id="tip-31">
        <h4>备忘三十一、</h4>
        </article>

        <!-- Tip 32 -->
        <article id="tip-32">
        <h4>备忘三十二、</h4>
        </article>

        <!-- Tip 33 -->
        <article id="tip-33">
        <h4>备忘三十三、</h4>
        </article>

        <!-- Tip 34 -->
        <article id="tip-34">
        <h4>备忘三十四、</h4>
        </article>

        <!-- Tip 35 -->
        <article id="tip-35">
        <h4>备忘三十五、</h4>
        </article>

        <!-- Visual mode: END -->
        </section>

        <!-- Part 1: Modes: END -->
        </section>

        <!-- Part 2: Files: BEGIN -->
        <section class="p2-files">

        <h3>文件处理</h3>
        <p></p>

        <!-- Part 2: Files: END -->
        </section>

        <!-- Part 3: Getting Around Faster: BEGIN -->
        <section class="p3-getting-around-faster">

        <h3>快速浏览与操作</h3>
        <p></p>

        <!-- Part 3: Getting Around Faster: END -->
        </section>

        <!-- Part 4: Registers: BEGIN -->
        <section class="p4-registers">

        <h3>寄存器</h3>
        <p></p>

        <!-- Part 4: Registers: END -->
        </section>

        <!-- Part 5: Patterns: BEGIN -->
        <section class="p5-patterns">

        <h3>模型</h3>
        <p></p>

        <!-- Part 5: Patterns: END -->
        </section>

        <!-- Part 6: Tools: BEGIN -->
        <section class="p6-tools">

        <h3>工具</h3>
        <p></p>

        <!-- Part 6: Tools: END -->
        </section>

        <!-- About Author: BEGIN -->
        <section class="Author">
        <h3>作者</h3>
        <p></p>

        <!-- About Author: END -->
        </section>

        <!-- Contact me: BEGIN -->
        <section class="contact">

        <h3>联系我</h3>
        <p>如果您对本网站有问题可<a href="mailto:baoyuan.zh@gmail.com">邮件</a>与我联系</p>

        <!-- Contact me: END -->
        </section>

        <!-- Main Contents: END -->
        </section>

        <aside id="sidebar">
        <a href="https://github.com/baoyuanzh/VIM_Internship/zipball/master" class="button">
          <small>Download</small>
          master.zip 
        </a>
        <a href="https://github.com/baoyuanzh/VIM_Internship/zipball/gh-pages" class="button">
          <small>Download</small>
          pages.zip 
        </a>
        <a href="https://github.com/baoyuanzh/VIM_Internship/zipball/master" class="button">
          <small>Download</small>
          master.tar.gz 
        </a>
        <a href="https://github.com/baoyuanzh/VIM_Internship/tarball/gh-pages" class="button">
          <small>Download</small>
          pages.tar.gz 
        </a>

        <p class="repo-owner"><a href="https://github.com/baoyuanzh/VIM_Internship"></a> is maintained by <a href="https://github.com/baoyuanzh">宝元(baoyuanzh)</a>.</p>

        <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>


  </body>
</html>
